<div class="container">
  <h2 class="title-lg mb">Edit your profile</h2>

  <% if @user.errors.any? %>
    <div class="mt">
      <% @user.errors.full_messages.each do |message| %>
        <p class="mb-sm text-red"><%= message %></p>
      <% end %>
    </div>
  <% end %>

  <%= form_with model: @user, data: { turbo: false } do |form| %>
    <p><%= form.label :name, 'Your name' %></p>
    <p><%= form.text_field :name, class: 'form-text-field' %></p>

    <p class="mt"><%= form.label :nickname, 'Your nickname' %></p>
    <p><%= form.text_field :nickname, class: 'form-text-field' %></p>

    <p class="mt text-sm">If you don't want to change your password, just leave
      next fields empty.</p>

    <p class="mt"><%= form.label :password %></p>
    <p><%= form.password_field :password, class: 'form-text-field' %></p>

    <p class="mt"><%= form.label :password_confirmation %></p>
    <p><%= form.password_field :password_confirmation, class: 'form-text-field' %></p>

    <p class="mt-lg"><%= form.submit 'Save', class: 'button button-main' %></p>
  <% end %>

  <h2 class="title-lg mb mt-lg">Change navigation color</h2>
  <%= form_with model: @user do |form| %>
    <p class="mt"><%= form.label :navbar_color, 'Color' %></p>
    <p><%= form.color_field :navbar_color, class: 'form-text-area' %></p>

    <p class="mt"><%= form.submit 'Change', class: 'button button-main' %></p>
  <% end %>

  <p class="mt"><%= button_to 'Set default color', reset_user_path(@user),
                              method: :put, class: 'button button-main' %></p>

  <p class="mt-lg"><%= button_to 'Delete the account', user_path(@user), method: :delete,
  form: { data: { turbo_confirm: 'Are you sure?' } } %></p>
</div>
